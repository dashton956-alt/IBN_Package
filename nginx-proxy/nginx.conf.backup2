events {
    worker_connections 1024;
}

http {
    # Simple settings
    sendfile on;
    keepalive_timeout 65;
    client_max_body_size 100M;

    # HTTPS Server - SIMPLE ACCESS
    server {
        listen 443 ssl;
        server_name 172.30.133.89;
        
        # SSL
        ssl_certificate /etc/nginx/ssl/nginx.crt;
        ssl_certificate_key /etc/nginx/ssl/nginx.key;

        # Simple Dashboard
        location = / {
            return 200 'Simple Access Dashboard

Web Interfaces:
• Netbox:      https://172.30.133.89/netbox
• N8N:         https://172.30.133.89/n8n  
• AnythingLLM: https://172.30.133.89/llm
• StackStorm:  https://172.30.133.89/st2

Direct Access (if above don'\''t work):
• Netbox:      http://172.30.133.89:8080
• N8N:         http://172.30.133.89:5678
• AnythingLLM: http://172.30.133.89:3001
• StackStorm:  http://172.30.133.89:80
';
            add_header Content-Type text/plain;
        }

        # Direct proxy to services - NO SUBPATHS
        location /netbox {
            return 301 http://172.30.133.89:8080/;
        }
        
        location /n8n {
            return 301 http://172.30.133.89:5678/;
        }
        
        location /llm {
            return 301 http://172.30.133.89:3001/;
        }
        
        location /st2 {
            return 301 http://172.30.133.89:80/;
        }

        # Health check
        location /health {
            return 200 'All services running - use direct ports for best experience';
            add_header Content-Type text/plain;
        }
    }
}